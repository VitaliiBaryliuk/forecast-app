(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"setNewInputValue",function(){return l}),a.d(n,"setTargetCity",function(){return m}),a.d(n,"setLastQueries",function(){return f});var r={};a.r(r),a.d(r,"itemsHasErrored",function(){return d}),a.d(r,"itemsIsLoading",function(){return p}),a.d(r,"itemsFetchDataSuccess",function(){return E}),a.d(r,"itemsFetchData",function(){return h});var c=a(0),i=a.n(c),u=a(10),s=a(11),o=a(7);function l(e){return{type:o.b,inputValue:e}}function m(e){return{type:o.a,targetCity:e}}function f(e){return{type:o.c,lastQuery:e}}function d(e){return{type:"ITEMS_HAS_ERRORED",hasErrored:e}}function p(e){return{type:"ITEMS_IS_LOADING",isLoading:e}}function E(e){return{type:"ITEMS_FETCH_DATA_SUCCESS",items:e}}function h(e){return function(t){t(p(!0)),fetch(e).then(function(e){if(!e.ok)throw Error(e.statusText);return t(p(!1)),e}).then(function(e){return e.json()}).then(function(e){return t(E(e))}).catch(function(){return t(d(!0))})}}var y="&appid=ebf5e5843530b4f8cf4c0bd17b6b6048",v="http://api.openweathermap.org/data/2.5/forecast/daily?q=",_=a(8),g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=function(e){var t=e.item,a=new Date(1e3*t.dt);return i.a.createElement("div",{className:"forecast__day"},i.a.createElement("div",{className:"forecast__day-left"},i.a.createElement("div",{className:"forecast__day-date"},a.getDate()," ",g[a.getDay()].slice(0,3),". \u26ac"),i.a.createElement("div",{className:"forecast__day-main"},t.weather[0].main)),i.a.createElement("div",{className:"forecast__day-right"},i.a.createElement("img",{className:"forecast__weather-icon",src:"http://openweathermap.org/img/w/"+t.weather[0].icon+".png",alt:"icon of weather"}),i.a.createElement("div",null,Math.ceil(t.temp.max)," / ",Math.ceil(t.temp.night)," \u2103")))},w=function(e){var t=e.inputValue,a=e.items,n=e.onFormSubmit,r=e.lastQueries;return i.a.createElement("div",{className:"forecast"},i.a.createElement("form",{name:"forecast",className:"forecast__form",onSubmit:function(e){e.preventDefault();var t=document.forms.forecast.input;n(t.value),t.value=""}},i.a.createElement("input",{type:"text",name:"input",value:t,placeholder:"City!"}),i.a.createElement("button",{type:"submit"},"Forecast")),!!Object.entries(a).length&&i.a.createElement("div",{className:"forecast__main-info"},i.a.createElement("div",{className:"forecast__last-queries"},i.a.createElement("span",null,"Last sities:"),i.a.createElement("ul",{className:"forecast__last-queries-list"},r?r.map(function(e){return i.a.createElement("li",{key:e},e)}):"")),i.a.createElement("h2",null,a.city.name),i.a.createElement(b,{item:a.list[(new Date).getDay()-1]}),i.a.createElement("div",{className:"link-wrapper"},i.a.createElement(_.b,{className:"forecast__link",to:"/week"},"Forecast for week"))))};var S=Object(s.b)(function(e){var t=e.input,a=t.inputValue,n=t.targetCity,r=t.lastQueries;return{inputValue:a,targetCity:n,items:e.items,lastQueries:r}},function(e){return{onInputChange:function(t){e(n.setNewInputValue(t))},onFormSubmit:function(t){e(n.setTargetCity(t)),e(n.setLastQueries(t)),e(r.itemsFetchData(v+t+"&type=like&units=metric&cnt=7"+y))}}})(w),N=function(e){var t=e.items;return i.a.createElement("div",{className:"forecast"},!!Object.entries(t.list).length&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,t.city.name),t.list.map(function(e){return i.a.createElement(b,{key:e.dt,item:e})}),i.a.createElement(_.b,{className:"forecast__link",to:"/"},"Back to search")))};var T=Object(s.b)(function(e){return{items:e.items}})(N);t.a=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.c,null,i.a.createElement(u.a,{exact:!0,path:"/",component:S}),i.a.createElement(u.a,{path:"/week",component:T})))}},27:function(e,t,a){"use strict";var n=a(9),r=a(24);var c=a(28),i=a(15),u=a(7),s=Object(n.c)({input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return Object(i.a)({},e,{inputValue:t.inputValue});case u.a:return Object(i.a)({},e,{targetCity:t.targetCity});case u.c:var a=e.lastQueries?[t.lastQuery].concat(Object(c.a)(e.lastQueries)).slice(0,5):[t.lastQuery];return Object(i.a)({},e,{lastQueries:a});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FETCH_DATA_SUCCESS":return t.items;default:return e}},itemsHasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_HAS_ERRORED":return t.hasErrored;default:return e}},itemsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_IS_LOADING":return t.isLoading;default:return e}}});function o(e){return Object(n.d)(s,e,Object(n.a)(r.a))}a.d(t,"a",function(){return o})},29:function(e,t,a){e.exports=a(30)},30:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(22),c=a.n(r),i=a(11),u=a(8),s=(a(38),a(27)),o=a(26),l=Object(s.a)({});c.a.render(n.a.createElement(i.a,{store:l},n.a.createElement(u.a,{basename:"/forecast-app"},n.a.createElement(o.a,null))),document.getElementById("root")),e.hot.accept()}.call(this,a(20)(e))},38:function(e,t,a){},7:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return c});var n="INPUT_CHANGED",r="FORM_SUBMITTED",c="UPDATE_LAST_QUERIES"}},[[29,1,2]]]);
//# sourceMappingURL=main.e39071e9.chunk.js.map